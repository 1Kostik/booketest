{"mappings":"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","sources":["src/js/shoppingList.js","src/shopping_list.js"],"sourcesContent":["if (localStorage.getItem('shoppingList')) {\n    const shoppingListContainer = document.querySelector(\n      '.shopping-list-empty-page');\n  const newShoppingListContainer = document.createElement('div');\n  const shoppingListJSON = localStorage.getItem('shoppingList');\n  //количество книг в хранилище\n  let shoppingList = JSON.parse(shoppingListJSON);\n  //--------------------------------------------------------\n  // создание нового масива книг с разметкой и записью в контейнер нтмл\n  const shoplistBooks = checkShoplist(shoppingList);\n\n  function checkShoplist(shoppingList) {\n    return shoppingList.map(makeShoplistMarkup);\n  }\n  // CreateMarkup\n  // функци возращает новый масви книг с разметкой и записью в контейнер нтмл\n  function makeShoplistMarkup(shoppingList) {\n    const { bookImg, author, listName, description, title, buyLinks, id } =\n      shoppingList;\n\n    const shoplistBookContainer = document.createElement('div');\n    shoplistBookContainer.classList.add('shoplist-book-container');\n    shoplistBookContainer.dataset.id = id;\n\n    const shoplistMarkup = `<img src=\"${bookImg}\" class=\"shoplist-book-img\">\n        <div class=\"shoplist-desc-container\">\n          <h4 class=\"shoplist-book-title\">${title}</h4>\n          <p class=\"shoplist-book-genre\">${listName}</p>\n          <p class=\"shoplist-book-description\">${description}</p>\n           <p class=\"shoplist-book-author\">${author}</p>\n        </div>\n        <div class=\"shoplist-icons\">\n    <ul class=\"shoplist-icons-list\">\n      <li class=\"shoplist-icons-li\">\n        <a href=\"${buyLinks[0].url}\" target=\"blank\">\n          <div class=\"shoplist-icon-amazon\"></div>\n        </a>\n      </li>\n      <li class=\"shoplist-icons-li\">\n        <a href=\"${buyLinks[2].url}\" target=\"blank\">\n          <div class=\"shoplist-icon-barnesAndNoble\"></div>\n        </a>\n      </li>\n      <li class=\"shoplist-icons-li\">\n        <a href=\"${buyLinks[4].url}\" target=\"blank\">\n          <div class=\"shoplist-icon-bookshop\"></div>\n        </a>\n      </li>\n    </ul>\n  </div>\n        <div class=\"shoplist-trash\"></div>\n`;\n    //запись в контейнер\n    shoplistBookContainer.innerHTML = shoplistMarkup;\n    // Возврат контенера\n    return shoplistBookContainer;\n  }\n  // ----------------------------------------------------------\n  // Create new container and replace markup\n  \n  // const newShoppingListContainer = document.createElement('div');\n  \n  // newShoppingListContainer.classList.add('shopping-list-container');\n  \n  //текущая страница\n  \n  let currentPage = 1;\n  // сколько книг выводить на страничку\n  let rows = 3;\n  \n  // start(currentPage);\n  \n  let start = 0;\n let end = 3;\n  // отрисовывает кнопки на страничке\n  function displayPagination(arrData, rowPerPage) {\n    //  const pageContainer = document.querySelector('.shopping-list-container');\n    //  pageContainer.innerHTML = '';\n    const paginationEl = document.querySelector('.paginationBook');\n    const pagesCount = Math.ceil(arrData.length / rowPerPage);\n    const ulEl = document.createElement('ul');\n    ulEl.classList.add('pagination_list');\n    for (let i = 0; i < pagesCount; i += 1) {\n      const liEl = displayPaginationbtn(i + 1);\n      ulEl.appendChild(liEl);\n    }\n    paginationEl.appendChild(ulEl);\n  }   \n   \n  // отрисовывает кнопки из предыдущей функици\n  function displayPaginationbtn(pageEl) {\n    const liEl = document.createElement('li');    \n    liEl.classList.add('pagination_item');\n    liEl.innerText = pageEl;\n    if (currentPage == pageEl) liEl.classList.add('pagination_item_active');\n    \n    liEl.addEventListener('click', e => {      \n      const pageContainer = document.querySelector('.shopping-list-container');\n    \n      let currentBtn = Number(e.target.textContent);  \n      currentPage = currentBtn;\n  \n      let currentItemLi = document.querySelector('li.pagination_item_active');\n      currentItemLi.classList.remove('pagination_item_active');\n      liEl.classList.add('pagination_item_active');\n      \n      const shoplistBookContainer = document.querySelector(\n        '.shoplist-book-container'\n      );\n      const allBooks = document.querySelectorAll('.shoplist-book-container');\n        \n      allBooks.forEach((item) => {\n        item.remove()\n      })\n\n      const numberOfPage = startA(currentBtn);\n      \n    shoplistBooks.slice(numberOfPage[0], numberOfPage[1]).forEach(book => {\n     \n      newShoppingListContainer.appendChild(book);\n    });\n\n    shoppingListContainer.replaceWith(newShoppingListContainer);\n  \n    });\n    return liEl;\n  }\n  //   displayList(books, rows, currentPage);\n  displayPagination(shoppingList, rows);\n\n\n  // start(currentPage);\n \n  function startA(page) {\n    //  console.log(currentPage);\n    switch (page) {\n      case  1:\n        start = 0;\n        end = 3;\n        break;\n\n      case  2:\n        start = 3;\n        end = 6;\n        break ;\n      // case (page = 3):\n      //   start = 6;\n      //   end = 9;\n      //   break;\n      // case (page = 4):\n      //   start = 9;\n      //   end = 12;\n      //   break;\n      // case (page = 5):\n      //   start = 12;\n      //   end = 15;\n      //   break;\n      // case (page = 6):\n      //   start = 15;\n      //   end = 18;\n      //   break;\n      // case (page = 7):\n      //   start = 18;\n      //   end = 21;\n      //   break;\n      // case (page = 8):\n      //   start = 21;\n      //   end = 24;\n      //   break;\n      // case (page = 9):\n      //   start = 24;\n      //   end = 27;\n      //   break;\n      // case (page = 10):\n      //   start = 27;\n      //   end = 30;\n      //   break;\n      default:\n        інструкції;\n\n    }\n    return [start, end];\n  }\n    newShoppingListContainer.classList.add('shopping-list-container');\n  const numberOfPage = startA(currentPage);\n  console.log(numberOfPage)\n  shoplistBooks.slice(numberOfPage[0], numberOfPage[1]).forEach(book => {\n    console.log(book);\n    newShoppingListContainer.appendChild(book);\n  });\n\n    // shoplistBooks.forEach((book, index, array) => {\n\n    //           newShoppingListContainer.appendChild(book);\n\n    //   // newShoppingListContainer.appendChild(book);\n\n    // });\n\n    shoppingListContainer.replaceWith(newShoppingListContainer);\n\n    //--------------------------------------------------------------------------\n    // Add trash to each element\n\n    const shoplistTrash = document.querySelectorAll('.shoplist-trash');\n    shoplistTrash.forEach(trash => {\n      trash.addEventListener('click', removesBookFromShoppingList);\n    });\n\n    // Update Local Storage\n\n    function removesBookFromShoppingList(event) {\n      const id = event.target.closest('.shoplist-book-container').dataset.id;\n      shoppingList = shoppingList.filter(book => book.id !== id);\n      localStorage.setItem('shoppingList', JSON.stringify(shoppingList));\n      newShoppingListContainer.removeChild(\n        event.target.closest('.shoplist-book-container')\n      );\n\n      // Fix updating on the page\n\n      if (shoppingList.length === 0) {\n        newShoppingListContainer.replaceWith(shoppingListContainer);\n        paginationContainer.classList.add('pagination-hidden');\n      }\n    }\n\n    function updateBookOnStorage() {\n      localStorage.setItem('shoppingList', JSON.stringify(shoppingList));\n    }\n\n    if (shoppingList.length === 0) {\n      if (!document.querySelector('.shopping-list-container')) {\n        document.body.appendChild(newShoppingListContainer);\n      }\n      newShoppingListContainer.replaceWith(shoppingListContainer);\n    }\n\n    // Pagination\n\n    const paginationContainer = document.querySelector('.pagination-container');\n\n    if (paginationContainer) {\n      if (shoppingList.length === 0) {\n        paginationContainer.classList.add('pagination-hidden');\n      } else {\n        paginationContainer.classList.remove('pagination-hidden');\n      }\n    }\n  // }\n  // const { Pagination } = require(\"swiper\");\n}","import './js/fetchApi';\nimport './js/shoppingList';\nimport './js/formSignUp';\n\nimport './js/mobileMenu';\nimport './js/themeSwitch';\nimport './js/slider';\nimport './js/formFirebase';\nimport './js/paginetion';\n"],"names":["parcelRequire","localStorage","getItem","$0fbe84baae5e1bf4$var$shoppingListContainer","document","querySelector","$0fbe84baae5e1bf4$var$newShoppingListContainer","createElement","$0fbe84baae5e1bf4$var$shoppingListJSON","$0fbe84baae5e1bf4$var$shoppingList1","JSON","parse","$0fbe84baae5e1bf4$var$shoplistBooks","map","$0fbe84baae5e1bf4$var$makeShoplistMarkup","shoppingList","bookImg","author","listName","description","title","buyLinks","id","shoplistBookContainer","classList","add","dataset","shoplistMarkup","concat","url","innerHTML","$0fbe84baae5e1bf4$var$currentPage","$0fbe84baae5e1bf4$var$start","$0fbe84baae5e1bf4$var$end","$0fbe84baae5e1bf4$var$displayPaginationbtn","pageEl","liEl","innerText","addEventListener","e","currentBtn","Number","target","textContent","remove","querySelectorAll","forEach","item","numberOfPage2","$0fbe84baae5e1bf4$var$startA","slice","book","appendChild","replaceWith","page","arrData","rowPerPage","paginationEl","pagesCount","Math","ceil","length","ulEl","i","$0fbe84baae5e1bf4$var$displayPagination","$0fbe84baae5e1bf4$var$numberOfPage1","$0fbe84baae5e1bf4$var$removesBookFromShoppingList","event","closest","filter","setItem","stringify","removeChild","$0fbe84baae5e1bf4$var$paginationContainer","console","log","trash","body"],"version":3,"file":"shopping_list.92802f76.js.map"}